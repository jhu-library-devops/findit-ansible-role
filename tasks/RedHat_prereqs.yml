---
- name: install epel repo
  yum: name=epel-release state=present

- name: install version dependent prereqs - RedHat
  yum: name={{ item }} state=present
  with_items:
    # BUG: Temp fix install from rpm:  http-parser remvoved from EPEL to RHEL7.4
    # see https://bugs.centos.org/view.php?id=13669&nbn=1
    - 'https://kojipkgs.fedoraproject.org/packages/http-parser/2.7.1/3.el7/x86_64/http-parser-2.7.1-3.el7.x86_64.rpm'
  when: "{{ ansible_distribution_version | version_compare('7.4', operator='lt' ) }}"

- name: install prereqs - RedHat
  yum: name={{ item }} state=present
  with_items:
    - nodejs
    - git
    - policycoreutils-python
    - libselinux-python
    - gcc
    - sqlite-devel
    - mariadb-devel
    - gcc-c++
    - libstdc++-devel
    - libxslt-devel
    - libxml2-devel
